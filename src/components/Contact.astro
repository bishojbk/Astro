---
import Container from "./Container.astro"
import Topic from "./Topic.astro";
---
<Container>
<div class="relative flex flex-col items-center md:flex-row" id="contactus">
    <Topic title="Contact" description="Connect with Us: Let's Discuss Your Marketing Needs" />
</div>

<div class="relative flex flex-col items-center md:flex-row my-6 bg-zinc-100 rounded-[45px]">
    <div class="row items-center py-12 md:px-20 md:w-8/12 md:py-10">
        <form id="contactForm" class="space-y-8 md:w-full">
            <div>
              <div class="flex items-center">
                <label for="inline-2-radio" class="text-3xl font-medium text-black">Get a Free Quote</label>
              </div>
            </div>
            <div>
              <label for="name" class="block mb-2 text-base font-medium text-black">Name</label>
              <input type="text" id="name" name="name" class="shadow-sm bg-white border text-black text-base rounded-lg focus:ring-black focus:border-black block w-full p-2.5" placeholder="Name" required>
            </div>
            <div>
              <label for="email" class="block mb-2 text-base font-medium text-black">Email</label>
              <input type="email" id="email" name="email" class="block p-3 w-full text-base text-black bg-white rounded-lg border shadow-sm focus:ring-black focus:border-black" placeholder="Email" required>
            </div>
            <div class="sm:col-span-2">
              <label for="message" class="block mb-2 text-base font-medium text-black">Message</label>
              <textarea id="message" name="message" rows="6" class="block p-2.5 w-full text-base text-black bg-white rounded-lg shadow-sm border focus:ring-black focus:border-black" placeholder="Message"></textarea>
            </div>
            <button type="submit" class="w-full py-5 bg-zinc-900 rounded-[14px] justify-center gap-2.5 inline-flex">
              <div class="text-center text-white text-xl font-normal leading-7">Send Message</div>
            </button>
          </form>
    </div>
    <div class="hidden md:grid md:justify-items-end md:w-4/12 md:py-2">
        <img src="./clients/contact.svg" alt="c" width="80%">
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('contactForm');
      if (form) {
        form.addEventListener('submit', function(event) {
          event.preventDefault(); // Prevent the default form submission
    
          // Collect form data
          const nameInput = document.getElementById('name') as HTMLInputElement;
          const emailInput = document.getElementById('email') as HTMLInputElement;
          const messageInput = document.getElementById('message') as HTMLInputElement;

          // Check for null values
          if (nameInput && emailInput && messageInput) {
            const name = nameInput.value;
            const email = emailInput.value;
            const message = messageInput.value;
    
            // Construct the mailto link
            const mailtoLink = `mailto:ejr2057@gmail.com?subject=New message from your website&body=Name: ${name}%0AEmail: ${email}%0AMessage: ${message}`;
    
            // Open the mailto link
            window.location.href = mailtoLink;
          } else {
            console.error('Form elements not found');
          }
        });
      } else {
        console.error('Form not found');
      }
    });
    </script>

</Container>